<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Space Transformations / Spot Light # 1. Introduction & Background # The implementation of a first-person spot light in creative mode allows for the creation of an interactive 3D scene with dynamic lighting effects. This code utilizes p5.js, a JavaScript library, to create a visually engaging experience. The scene consists of a rotating sphere placed against a galactic background. The lighting effect on the sphere is influenced by the position of the mouse, providing a dynamic and interactive element."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Space Transformations / Spot Light # 1. Introduction & Background # The implementation of a first-person spot light in creative mode allows for the creation of an interactive 3D scene with dynamic lighting effects. This code utilizes p5.js, a JavaScript library, to create a visually engaging experience. The scene consists of a rotating sphere placed against a galactic background. The lighting effect on the sphere is influenced by the position of the mouse, providing a dynamic and interactive element."><meta property="og:type" content="article"><meta property="og:url" content="https://VisualComputingDDC.github.io/showcase/docs/shortcodes/shaders/Space-Transformations-Spot-Light/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-06-19T16:57:03-05:00"><title>Space Transformations Spot Light | Visual Computing 2023-1 - G1 - DDC</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Visual Computing 2023-1 - G1 - DDC</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Shortcodes</span><ul><li><a href=/showcase/docs/shortcodes/group-members/>Group Members</a></li><li><input type=checkbox id=section-6d6445ed16f829ce6720abb33c55105e class=toggle checked>
<label for=section-6d6445ed16f829ce6720abb33c55105e class="flex justify-between"><a href=/showcase/docs/shortcodes/shaders/>Shaders</a></label><ul><li><input type=checkbox id=section-2f065ccbcba70d5bdd25eb8a8f238142 class=toggle>
<label for=section-2f065ccbcba70d5bdd25eb8a8f238142 class="flex justify-between"><a role=button>Coloring</a></label><ul><li><a href=/showcase/docs/shortcodes/shaders/Coloring/Brightness-Coloring/>Brightness Coloring</a></li><li><a href=/showcase/docs/shortcodes/shaders/Coloring/Normal-Coloring/>Normal Coloring</a></li></ul></li><li><a href=/showcase/docs/shortcodes/shaders/Image-Processing/>Image Processing</a></li><li><a href=/showcase/docs/shortcodes/shaders/Photomosaic/>Photomosaic</a></li><li><a href=/showcase/docs/shortcodes/shaders/Post-Effects/>Post Effects</a></li><li><a href=/showcase/docs/shortcodes/shaders/Procedural-Texturing/>Procedural Texturing</a></li><li><a href=/showcase/docs/shortcodes/shaders/Space-Transformations-Spot-Light/ class=active>Space Transformations Spot Light</a></li><li><a href=/showcase/docs/shortcodes/shaders/Spatial-Coherence/>Spatial Coherence</a></li><li><a href=/showcase/docs/shortcodes/shaders/Texturing/>Texturing</a></li></ul></li><li><input type=checkbox id=section-67f2b433a931c89e2e9c26b761fd42ff class=toggle>
<label for=section-67f2b433a931c89e2e9c26b761fd42ff class="flex justify-between"><a href=/showcase/docs/shortcodes/visual-illusions/>Visual Illusions</a></label><ul><li><a href=/showcase/docs/shortcodes/visual-illusions/Academic-Report-3D-terrain-generation-with-perlin-noise/>Academic Report 3 D Terrain Generation With Perlin Noise</a></li><li><a href=/showcase/docs/shortcodes/visual-illusions/Academic-Report-Color-Average/>Academic Report Color Average</a></li><li><a href=/showcase/docs/shortcodes/visual-illusions/Academic-Report-Color-Blind/>Academic Report Color Blind</a></li><li><a href=/showcase/docs/shortcodes/visual-illusions/Academic-Report-Moir%C3%A9-Patterns/>Academic Report Moiré Patterns</a></li><li><a href=/showcase/docs/shortcodes/visual-illusions/Academic-Report-Spatial-Coherence/>Academic Report Spatial Coherence</a></li><li><a href=/showcase/docs/shortcodes/visual-illusions/Presentation-Video/>Presentation Video</a></li></ul></li></ul></li></ul><ul><li><a href=/showcase/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Space Transformations Spot Light</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#space-transformations--spot-light>Space Transformations / Spot Light</a><ul><li><a href=#1-introduction--background>1. Introduction & Background</a></li><li><a href=#2-code--results>2. Code & results</a></li><li><a href=#3-conclusion>3. Conclusion</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=space-transformations--spot-light>Space Transformations / Spot Light
<a class=anchor href=#space-transformations--spot-light>#</a></h1><h2 id=1-introduction--background>1. Introduction & Background
<a class=anchor href=#1-introduction--background>#</a></h2><p>The implementation of a first-person spot light in creative mode allows for the creation of an interactive 3D scene with dynamic lighting effects. This code utilizes p5.js, a JavaScript library, to create a visually engaging experience. The scene consists of a rotating sphere placed against a galactic background. The lighting effect on the sphere is influenced by the position of the mouse, providing a dynamic and interactive element. Through the combination of 3D rendering and user interaction, this implementation offers a captivating and immersive visual experience.</p><p>The use of p5.js in combination with WebGL enables the creation of interactive 3D scenes in web applications. WebGL is a JavaScript API for rendering interactive 3D graphics within compatible web browsers. It utilizes the power of the computer&rsquo;s graphics card to accelerate the rendering process, allowing for the creation of complex and visually rich experiences. p5.js, on the other hand, is a JavaScript library that simplifies the process of creating interactive graphics and animations.</p><p>The concept of dynamically controlling lighting effects based on user interaction has been widely explored in computer graphics and interactive applications. By utilizing the position of the mouse, the code in question enables the creation of a spot light that follows the user&rsquo;s cursor. This provides a responsive and interactive lighting experience, enhancing the visual appeal of the scene.</p><p>Furthermore, the use of 3D elements, such as the rotating sphere, adds depth and realism to the scene. Rotating objects are a common technique used in computer graphics to create dynamic and visually interesting compositions. By continuously updating the rotation angle of the sphere, the code achieves a spinning effect, adding movement and dynamism to the overall scene.</p><p>Overall, this implementation showcases the combination of interactive lighting effects, 3D rendering, and user interaction to create an engaging and visually appealing 3D scene. The use of p5.js and WebGL enables the implementation of such interactive experiences directly within web browsers, making them accessible to a wide audience. This approach aligns with the ongoing advancements in interactive web technologies and highlights the potential for creating immersive visual experiences directly in the browser.</p><h2 id=2-code--results>2. Code & results
<a class=anchor href=#2-code--results>#</a></h2><p>Implements a first person spot light in creative mode.</p><p>The code creates an interactive 3D scene where a rotating sphere is displayed on a galactic background.</p><ol><li>It declares a variable called angle and initializes it with the value 0.3.</li><li>The setup() function is a p5.js function that is called once at the beginning. It sets up the canvas with a size of 800x800 pixels and uses the WEBGL mode, which enables 3D rendering.</li><li>The draw() function is another p5.js function that is called repeatedly to update and draw the elements on the canvas.</li><li>Inside the draw() function:</li></ol><ul><li>pointLight(0, 250, 250, mouseX - 200, mouseY - 200, 200); sets up a point light source that follows the mouse position, creating a dynamic lighting e�ect on the sphere.</li><li>The variables dirY and dirX are calculated based on the mouse position. These variables determine the rotation of the galactic background.</li><li>background(0); sets the background color to black.</li><li>drawGalacticBackground(); calls the drawGalacticBackground() function to draw the galactic background.</li><li>The rotateX(), rotateY(), and rotateZ() functions rotate the coordinate system around the x, y, and z axes respectively, giving the sphere a spinning e�ect.</li><li>noStroke(); disables stroke (outline) drawing for subsequent shapes.</li><li>fill(255, 165, 0); sets the fill color of subsequent shapes to an orange color.</li><li>sphere(150); draws a sphere with a radius of 150 pixels.</li><li>angle += 0.06; increments the angle variable, causing the sphere to rotate over time.</li></ul><ol start=5><li>The drawGalacticBackground() function is defined to draw a galactic background consisting of randomly positioned white ellipses representing stars. The number of stars is set to 500.</li></ol><ul><li>Inside a loop, random x and y coordinates are generated within the canvas bounds.</li><li>The size of each star ellipse is also randomly determined.</li><li>fill(255); sets the fill color to white for each star ellipse.</li><li>ellipse(x, y, size, size); draws the star ellipse at the calculated position.</li></ul><p>Overall, the code creates an interactive 3D scene where a rotating orange sphere is displayed on a galactic background with randomly positioned white stars. The sphere rotates continuously, and the lighting on the sphere is a�ected by the mouse position.</p><p>Fragment Shader:</p><ol><li>The code begins with some preprocessor directives (#ifdef, #endif) that are specific to GLSL ES (OpenGL ES) to define the precision of floats and ints used in the shader.</li><li>The shader defines several uniform variables, which are values that remain constant for all fragments (pixels) processed by the shader. These uniform variables can be set externally by the application using the shader. In this code, the uniforms are:</li></ol><ul><li>u_resolution (vec2): Represents the resolution (width and height) of the rendering viewport.</li><li>u_time (float): Represents the time since the shader started running.</li><li>u_mouse (vec2): Represents the position of the mouse in the viewport.</li></ul><ol start=3><li>The shader also defines varying variables, which are values that are interpolated across the vertices of a primitive (e.g., a triangle) and passed to the fragment shader. In this code, the varyings are:</li></ol><ul><li>vTexCoord (vec2): Represents the texture coordinates interpolated across the primitive.</li><li>vPosition (vec3): Represents the position of the fragment in 3D space.</li><li>vNormal (vec3): Represents the normal vector of the fragment.</li><li>vEyeVec (vec3): Represents the vector from the fragment to the eye (camera).</li></ul><ol start=4><li>The main() function is the entry point of the fragment shader. It is called for each fragment (pixel) being rendered.</li><li>Inside the main() function:</li></ol><ul><li>The uv variable is calculated by dividing the fragment&rsquo;s screen coordinates (gl_FragCoord.xy) by the resolution (u_resolution). This gives normalized coordinates in the range [0, 1].</li><li>The code defines basic lighting properties such as the lightDir (direction of the light source), ambientColor, di�useColor, specularColor, and shininess (specular exponent).</li><li>The normal variable is normalized to represent the interpolated normal vector of the fragment.</li><li>The di�use variable is calculated by taking the maximum of the dot product between the normal vector and the lightDir vector and 0.</li><li>The eyeVec variable represents the vector from the fragment to the eye (camera) and is normalized.</li><li>The reflectionVec is calculated by reflecting the lightDir vector around the normal vector.</li><li>The specular variable is calculated by taking the maximum of the dot product between the reflectionVec and the eyeVec and 0, raised to the power of the shininess.</li><li>The result variable combines the ambient, di�use, and specular components by adding them together.</li><li>Finally, gl_FragColor is set to the result color, with an alpha value of 1.0, representing the final color of the fragment.</li></ul><p>In summary, this shader calculates the lighting components (ambient, di�use, specular) based on the normal vector and the properties of the light source and combines them to determine the final color of each fragment.</p><p>Vertex Shader:</p><ol><li>The code begins with some preprocessor directives (#ifdef, #endif) that are specific to GLSL ES (OpenGL ES) to define the precision of floats and ints used in the shader.</li><li>The shader defines several attribute variables, which are values that vary per vertex and are provided as input to the vertex shader. In this code, the attributes are:</li></ol><ul><li>aPosition (vec3): Represents the position of the vertex in 3D space.</li><li>aTexCoord (vec2): Represents the texture coordinates of the vertex.</li></ul><ol start=3><li>The shader also defines uniform variables, which are values that remain constant for all vertices processed by the shader. These uniform variables can be set externally by the application using the shader. In this code, the uniforms are:</li></ol><ul><li>uModelViewMatrix (mat4): Represents the model-view transformation matrix.</li><li>uProjectionMatrix (mat4): Represents the projection transformation matrix.</li><li>u_resolution (vec2): Represents the resolution (width and height) of the rendering viewport.</li><li>u_time (float): Represents the time since the shader started running.</li><li>u_mouse (vec2): Represents the position of the mouse in the viewport.</li></ul><ol start=4><li>The shader also defines varying variables, which are values that are interpolated across the vertices of a primitive (e.g., a triangle) and passed to the fragment shader. In this code, the varyings are:</li></ol><ul><li>vTexCoord (vec2): Represents the texture coordinates interpolated across the primitive.</li><li>vPosition (vec3): Represents the position of the vertex in world space.</li><li>vNormal (vec3): Represents the normal vector of the vertex in world space.</li><li>vEyeVec (vec3): Represents the vector from the vertex to the eye (camera) in world space.</li></ul><ol start=5><li>The main() function is the entry point of the vertex shader. It is called for each vertex being processed.</li><li>Inside the main() function:</li></ol><ul><li>The vTexCoord varying is assigned the value of the aTexCoord attribute to pass the texture coordinates to the fragment shader for interpolation.</li><li>The vertex position is transformed by multiplying the aPosition attribute with the uModelViewMatrix. This is done to apply the model-view transformation to the vertex position. The result is stored in transformedPosition.</li><li>The transformed position is then multiplied by the uProjectionMatrix to apply the projection transformation. The final result is assigned to gl_Position, which represents the position of the vertex in normalized device coordinates (NDC).</li><li>The world space position is assigned the value of vec3(transformedPosition), which is the position of the vertex in 3D space.</li><li>The world space normal is calculated by multiplying aPosition with the upper-left 3x3 submatrix of uModelViewMatrix and normalizing the result. This ensures that the normal is transformed correctly with respect to translations, rotations, and scalings applied by the model-view matrix.</li><li>The vEyeVec varying is calculated by normalizing the negative vPosition. It represents the vector from the vertex to the eye (camera) in world space.</li></ul><p>In summary, this vertex shader transforms the vertex positions, calculates the world space position, normal, and eye vector, and passes the texture coordinates to the fragment shader for interpolation. The transformed vertex</p><p>Result:</p><p><img src=https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhsV2mpFb5qVeStoAwWaOIcKChSGFkYaDxBGOh2gjXm9W3Nu6ROFUkxk6C2fywljvQ84DyscLLpBLQ9A1BDloesKTiMylmjxEWhWcM_JlbggyaotOlhSnq4Vju5LVni8H4nB5KYj6V8iARN2CxVyD9FGHEk6W_SnAp8A6dcx6yoShzvnptW1zBC9MSsfN4/s1600/Aspose.Words.875cce37-6b92-4441-a96d-c6fdda0a4d0c.001.jpeg alt> <img src=https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhxSfJGcS-g3WRbchAm4YpvWQ1jcgGoDInkRKAvhKS_HimdD6fh9S-fjCxwnRkzHSk7xyr1r1ETHReYKOzmlYV3EXsZEWr1xcTE_SgMMxHPJXsWfbAND-P4s1xuaKO9k63og3ZDVmAW4W8bciZtDw69ewqccEgC3EIkKb-dDqgvjT_cONbOCdex-9c3rbE/s1600/Aspose.Words.875cce37-6b92-4441-a96d-c6fdda0a4d0c.002.jpeg alt></p><p><img src=https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg91X6cjrfoFYYzavJrKX4y8a6HMUKLS8qFuA_uKxFdd2aoiVSG7umHmwLjQJllVd3KIZVPBhD5InxkopXinL2P7dh_knf8OpXAPUCBl30BkSgzVsSi3SGcTn17Esr9r4VM04MSD3tq6aS8p-H2bgG66J3sVq8Edh3OV2dV798RcfhzONCAkZ7wiP6UkOA/s1600/Aspose.Words.875cce37-6b92-4441-a96d-c6fdda0a4d0c.003.jpeg alt> <img src=https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh9TCtJp0GwgjiXTqqiJ2hLC0KahtGn-ohinD0qSaIGE_fjquDcXo-qrYXOZ-fooG7uSBp1X4eeQl_bPSwLeNbDtr-yGVyUel5qQwTIodKEAjfkk8Cx6_N2aUnlAL6gGkiKKuYU0XRZh7ZvIu7hdiNpsyM2dfA141XpnhPl_fG5E6Bde0x0xnVmdIZfKHw/s1600/Aspose.Words.875cce37-6b92-4441-a96d-c6fdda0a4d0c.004.jpeg alt></p><h2 id=3-conclusion>3. Conclusion
<a class=anchor href=#3-conclusion>#</a></h2><p>The implementation of a first-person spot light in creative mode using p5.js and WebGL allows for the creation of an interactive 3D scene with dynamic lighting effects. By utilizing the position of the mouse, the spot light follows the user&rsquo;s cursor, providing a responsive and interactive lighting experience. The scene consists of a rotating sphere placed against a galactic background, adding depth and realism to the scene. The combination of interactive lighting effects, 3D rendering, and user interaction creates an engaging and visually appealing 3D scene. The use of p5.js and WebGL enables the implementation of such interactive experiences directly within web browsers, making them accessible to a wide audience. This implementation showcases the potential for creating immersive visual experiences directly in the browser, aligning with the advancements in interactive web technologies.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/29a079f70a161bea2e0cbcab3ed314fb749e415c title='Last modified by Daniel991104 | June 19, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 19, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#space-transformations--spot-light>Space Transformations / Spot Light</a><ul><li><a href=#1-introduction--background>1. Introduction & Background</a></li><li><a href=#2-code--results>2. Code & results</a></li><li><a href=#3-conclusion>3. Conclusion</a></li></ul></li></ul></nav></div></aside></main></body></html>