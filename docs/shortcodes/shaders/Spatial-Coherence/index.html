<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Spatial Coherence # 1. Introduction & Background # Downsampling to convert an image to grayscale using shaders.
Technique: To convert an image to grayscale using shaders, we use downsampling. So, it reduces the resolution of the image by averaging multiple pixels into a single pixel, resulting in a lower resolution image. This technique applied in the following way to convert an image to grayscale using shaders:
First, the image is loaded into the shader program as a texture."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Spatial Coherence # 1. Introduction & Background # Downsampling to convert an image to grayscale using shaders.
Technique: To convert an image to grayscale using shaders, we use downsampling. So, it reduces the resolution of the image by averaging multiple pixels into a single pixel, resulting in a lower resolution image. This technique applied in the following way to convert an image to grayscale using shaders:
First, the image is loaded into the shader program as a texture."><meta property="og:type" content="article"><meta property="og:url" content="https://VisualComputingDDC.github.io/showcase/docs/shortcodes/shaders/Spatial-Coherence/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-06-19T16:57:03-05:00"><title>Spatial Coherence | Visual Computing 2023-1 - G1 - DDC</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Visual Computing 2023-1 - G1 - DDC</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Shortcodes</span><ul><li><a href=/showcase/docs/shortcodes/group-members/>Group Members</a></li><li><input type=checkbox id=section-6d6445ed16f829ce6720abb33c55105e class=toggle checked>
<label for=section-6d6445ed16f829ce6720abb33c55105e class="flex justify-between"><a href=/showcase/docs/shortcodes/shaders/>Shaders</a></label><ul><li><input type=checkbox id=section-2f065ccbcba70d5bdd25eb8a8f238142 class=toggle>
<label for=section-2f065ccbcba70d5bdd25eb8a8f238142 class="flex justify-between"><a role=button>Coloring</a></label><ul><li><a href=/showcase/docs/shortcodes/shaders/Coloring/Brightness-Coloring/>Brightness Coloring</a></li><li><a href=/showcase/docs/shortcodes/shaders/Coloring/Normal-Coloring/>Normal Coloring</a></li></ul></li><li><a href=/showcase/docs/shortcodes/shaders/Image-Processing/>Image Processing</a></li><li><a href=/showcase/docs/shortcodes/shaders/Photomosaic/>Photomosaic</a></li><li><a href=/showcase/docs/shortcodes/shaders/Post-Effects/>Post Effects</a></li><li><a href=/showcase/docs/shortcodes/shaders/Procedural-Texturing/>Procedural Texturing</a></li><li><a href=/showcase/docs/shortcodes/shaders/Space-Transformations-Spot-Light/>Space Transformations Spot Light</a></li><li><a href=/showcase/docs/shortcodes/shaders/Spatial-Coherence/ class=active>Spatial Coherence</a></li><li><a href=/showcase/docs/shortcodes/shaders/Texturing/>Texturing</a></li></ul></li><li><input type=checkbox id=section-67f2b433a931c89e2e9c26b761fd42ff class=toggle>
<label for=section-67f2b433a931c89e2e9c26b761fd42ff class="flex justify-between"><a href=/showcase/docs/shortcodes/visual-illusions/>Visual Illusions</a></label><ul><li><a href=/showcase/docs/shortcodes/visual-illusions/Academic-Report-3D-terrain-generation-with-perlin-noise/>Academic Report 3 D Terrain Generation With Perlin Noise</a></li><li><a href=/showcase/docs/shortcodes/visual-illusions/Academic-Report-Color-Average/>Academic Report Color Average</a></li><li><a href=/showcase/docs/shortcodes/visual-illusions/Academic-Report-Color-Blind/>Academic Report Color Blind</a></li><li><a href=/showcase/docs/shortcodes/visual-illusions/Academic-Report-Moir%C3%A9-Patterns/>Academic Report Moir√© Patterns</a></li><li><a href=/showcase/docs/shortcodes/visual-illusions/Academic-Report-Spatial-Coherence/>Academic Report Spatial Coherence</a></li><li><a href=/showcase/docs/shortcodes/visual-illusions/Presentation-Video/>Presentation Video</a></li></ul></li></ul></li></ul><ul><li><a href=/showcase/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Spatial Coherence</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#spatial-coherence>Spatial Coherence</a><ul><li><a href=#1-introduction--background>1. Introduction & Background</a></li><li><a href=#2-code--results>2. Code & results</a></li><li><a href=#3-conclusion>3. Conclusion</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=spatial-coherence>Spatial Coherence
<a class=anchor href=#spatial-coherence>#</a></h1><h2 id=1-introduction--background>1. Introduction & Background
<a class=anchor href=#1-introduction--background>#</a></h2><p>Downsampling to convert an image to grayscale using shaders.</p><p>Technique: To convert an image to grayscale using shaders, we use downsampling. So, it reduces the resolution of the image by averaging multiple pixels into a single pixel, resulting in a lower resolution image. This technique applied in the following way to convert an image to grayscale using shaders:</p><p>First, the image is loaded into the shader program as a texture. The shader program reads the texture and downsamples the image by averaging the color values of adjacent pixels. The downsampled image is stored in a new texture with a lower resolution. The shader program then reads the downsampled image and applies a grayscale filter to each pixel. This is typically done by calculating the average value of the red, green, and blue color channels for each pixel and setting all three channels to this value. The resulting grayscale image is stored as a new texture or rendered directly to the screen.</p><p>It&rsquo;s worth noting that downsampling can result in a loss of detail and information in the image.</p><p>Images that we use:</p><p>1. Retrato - Nadar.</p><p><img src=https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEirou3exNxqra4QGLQXdHjA7jAeLv5oEfjVVvmFjnIBoB7Y7W5B3Ic72zieqaa5a5j0e6N4ldXW76SuEfJpqeWG70oZ8Il5FmRnQjv7XUUr4uQUS7OodLKnoY3aWjtytgHG6THfjgIZ2OThbVOPaGU22LvUgeA1Ojec237CuLYqatjaIKmIY9zb0MFScO8/s1600/Aspose.Words.2a55bee0-0933-45e2-bef1-40574ab4a90d.001.png alt></p><ol start=2><li>La joven de la perla - Johannes Vermeer</li></ol><p><img src=https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi9GwYNKHAgS_XAAK7c2goq3sA0grQQH-pc67AiElmnpu-uackz72aVmzDMaAEBjsh3Bvu_F1o9NPh0RY9e0Ro_TZTkI39R49hjRMf8NuOoD0KZ_Uu9-yJfAGp2w3RsZpYTTThgxLtZKYlxi7n9abiagv7vabQMOpMVpTGBq58kTu75L9n2UAzheKUrTWA/s1600/Aspose.Words.2a55bee0-0933-45e2-bef1-40574ab4a90d.002.png alt></p><p>3. La Gioconda - Leonardo Da Vinci</p><p><img src=https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEijyH2LXHovISHbTo2OFLgSxw_pGtBkgG672_z6w61rHlrjRLqkFIMWg8Mcqjs3stWgPHwmrYz2tEM0rpRqY-i772JHdWvEzchXSNv6uU9lkpBuWq9z7GjwC9b_voxe579Y32up4VqZN44uXwiJeFY_IcJmlPFfLU1qZOPfuo71-Gafln0rnMz_FlxDIxg/s1600/Aspose.Words.2a55bee0-0933-45e2-bef1-40574ab4a90d.003.jpeg alt></p><h2 id=2-code--results>2. Code & results
<a class=anchor href=#2-code--results>#</a></h2><p><strong>Fragment shader code:</strong></p><ul><li>precision highp float;</li></ul><p>This sets the precision for floating-point operations in the shader. In this case, highp means high precision.</p><ul><li>uniform sampler2D tex0;</li></ul><p>This declares a uniform variable tex0 of type sampler2D, which will be used to sample the input texture.</p><ul><li>varying vec2 vTexCoord;</li></ul><p>This declares a varying variable vTexCoord of type vec2, which will be used to pass the texture coordinates from the vertex shader to the fragment shader.</p><ul><li>void main() {</li></ul><p>This is the entry point for the fragment shader. This function is called once for each pixel in the output image.</p><ul><li>vec4 color = texture2D(tex0, vTexCoord);</li></ul><p>This samples the input texture tex0 at the texture coordinates specified by vTexCoord and assigns the resulting color value to color.</p><ul><li>float gray = dot(color.rgb, vec3(0.299, 0.587, 0.114));</li></ul><p>This calculates the grayscale value of the pixel using the dot product of the color vector (color.rgb) and a vector containing the weights for the red, green, and blue channels (vec3(0.299, 0.587, 0.114)). These weights are commonly used in image processing to create a luminance-based grayscale conversion.</p><ul><li>gl_FragColor = vec4(vec3(gray), color.a);</li></ul><p>This sets the output color for the current pixel to a new vec4 value, where the RGB channels are set to the grayscale value (vec3(gray)) and the alpha channel is set to the alpha value of the input color (color.a).</p><p><strong>Vertex shader code:</strong></p><ul><li>attribute vec3 aPosition;</li><li>attribute vec2 aTexCoord;</li></ul><p>These lines declare two attribute variables: aPosition of type vec3, which stores the position of each vertex in the mesh, and aTexCoord of type vec2, which stores the texture coordinates for each vertex.</p><ul><li>uniform mat4 uModelViewMatrix;</li><li>uniform mat4 uProjectionMatrix;</li></ul><p>These lines declare two uniform variables: uModelViewMatrix of type mat4, which is a matrix that transforms vertices from object space to view space, and uProjectionMatrix of type mat4, which is a matrix that transforms vertices from view space to clip space.</p><ul><li>varying vec2 vTexCoord;</li></ul><p>This declares a varying variable vTexCoord of type vec2, which will be used to pass the texture coordinates from the vertex shader to the fragment shader.</p><ul><li>void main() {</li></ul><p>This is the entry point for the vertex shader. This function is called once for each vertex in the mesh.</p><ul><li>gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(aPosition, 1.0);</li></ul><p>This line calculates the position of the vertex in clip space by multiplying the vertex position in object space (aPosition) by the model-view matrix (uModelViewMatrix), then by the projection matrix (uProjectionMatrix), and finally by a homogeneous coordinate vec4(aPosition, 1.0). The resulting clip-space position is assigned to gl_Position, a built-in variable that represents the position of the vertex in clip space.</p><ul><li>vTexCoord = aTexCoord;</li></ul><p>This line assigns the texture coordinates for the current vertex (aTexCoord) to vTexCoord, which will be passed on to the fragment shader for texture sampling.</p><p><strong>Applying the code, the image get the following output</strong></p><p>1. Retrato - Nadar.</p><p><img src=https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjRAAJ-eaALus7cDtG5FkMAV62J5v2AYGoUV0Bo5L2PTQGhjxxwdRwn_UFKxhFquMSXJqbAg7qRwFccC66l-yucgwSkEupmpIWou57g1bKc-UHJi1DuIy71hGvhpbd7DAUCNh0jsZM3y0d5o-7MBad-R0hLg2k7zKDkbai8pXLw_OML24Da1NeDzsRz5vs/s1600/Aspose.Words.2a55bee0-0933-45e2-bef1-40574ab4a90d.004.png alt></p><ol start=2><li>La joven de la perla - Johannes Vermeer.</li></ol><p><img src=https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgiVsDgBQDNMAqP21C_XYQMQDS9ikgVuD2WxbbwGgm7bGuqmW_c26-m-CoCMQiT-h6px1BgPtXcqDr5p-GfZVTnI852D5cwR04oXYev0gwa6f3IlY4k0y5VLJivT2MBsB8B_rUb7jxT7e5S1Rvg0hgQDQ-3JHVko-W3RGMvYIzWV4MgjrVLCLqPAixxohU/s1600/Aspose.Words.2a55bee0-0933-45e2-bef1-40574ab4a90d.005.png alt></p><p>3. La Gioconda - Leonardo Da Vinci.</p><p><img src=https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgrZoUMIyNtHUZggW-IlwNraf6Ji5kCt1SXUC-9cfQVTv8_XfPk0gmpfjGRYfy6OK2l58J_Tvh09hliqZMceOYb-Z6e6Cwy-ISb0hQ1rNK5nVjnx0cDnNR497UzPPs7P-t3ZfvIQTG7TPOaJ2Z8sxeDEZNcOg754-M9LYsg_hciUMoE1eiPsM2zyR-kK9g/s1600/Aspose.Words.2a55bee0-0933-45e2-bef1-40574ab4a90d.006.jpeg alt></p><h2 id=3-conclusion>3. Conclusion
<a class=anchor href=#3-conclusion>#</a></h2><p>The downsampling process to convert an image to grayscale using shaders can make the image appear to have lower resolution or be more pixelated because it involves reducing the number of pixels in the image.</p><p>When an image is downsampled, some of the original pixels are discarded or averaged to create a new, smaller image. In the case of grayscale conversion using</p><p>shaders, this downsampling is typically done by rendering the image to a smaller texture using a fragment shader that calculates the grayscale value of each pixel. The resulting texture may have a lower resolution than the original image, depending on the size of the output texture.</p><p>Because downsampling involves reducing the number of pixels in the image, some details may be lost or blurred in the downsampling process. For example, if the original image contains fine lines or intricate patterns, these details may become less distinct or disappear altogether in the downsampled version. This loss of detail can make the image appear to have lower resolution or be more pixelated.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/29a079f70a161bea2e0cbcab3ed314fb749e415c title='Last modified by Daniel991104 | June 19, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 19, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#spatial-coherence>Spatial Coherence</a><ul><li><a href=#1-introduction--background>1. Introduction & Background</a></li><li><a href=#2-code--results>2. Code & results</a></li><li><a href=#3-conclusion>3. Conclusion</a></li></ul></li></ul></nav></div></aside></main></body></html>